# Cursor Rules for AMS Law Project

## Color Usage - STRICT RULE

**NEVER hardcode colors in components or pages. ALWAYS use CSS variables and utility classes.**

### ❌ NEVER DO THIS:
- `className="text-white"` or `className="bg-white"`
- `className="text-gray-500"` or `className="bg-gray-200"`
- `style={{ color: '#ffffff' }}` or any inline hex colors
- Direct hex color values like `#00AEEF` in components

### ✅ ALWAYS DO THIS:

#### For Text Colors:
- **Headings on colored backgrounds**: Use `text-hero-heading`
- **Body text on colored backgrounds**: Use `text-hero-body`
- **Footer content**: Use `text-footer`
- **Footer links**: Use `text-footer-muted`
- **Regular body text**: Use `text-body`
- **Headings**: Use `text-heading`
- **Muted text**: Use `text-muted`
- **Navigation text**: Use `text-nav`
- **Text on primary colored backgrounds**: Use `text-on-primary`

#### For Background Colors:
- **Page background**: Use `bg-page`
- **Card/surface background**: Use `bg-surface`
- **Alternate section background**: Use `bg-surface-secondary`
- **Subtle backgrounds**: Use `bg-surface-tertiary`
- **Primary blue**: Use `bg-primary`
- **Primary blue hover**: Use `bg-primary-hover`
- **Primary dark blue**: Use `bg-primary-dark`
- **Placeholder/gray backgrounds**: Use `bg-placeholder`

#### For Buttons:
- **Hero section primary button (blue)**: Use `btn-hero-primary`
- **Hero section secondary button (white)**: Use `btn-hero-secondary`
- **Call-to-action buttons (medium size)**: Use `btn-cta`
- **Desktop navigation button**: Use `btn-nav`
- **Mobile navigation button**: Use `btn-nav-mobile`
- **Primary button (legacy)**: Use `btn-primary`
- **Secondary button (legacy)**: Use `btn-secondary`

#### For Borders:
- Use `border-primary`, `border-primary-hover`, etc.

### Color Variable Reference (globals.css)

All colors are defined in `/src/app/globals.css`:
```css
--cyan-500: #00AEEF;           /* Primary blue */
--cyan-700: #0284c7;           /* Primary blue hover */
--cyan-900: #0c4a6e;           /* Primary dark */
--cyan-200: #bae6fd;           /* Primary light */
--cyan-50: #f0f9ff;            /* Primary lighter */

--text-heading: #111827;       /* Dark headings */
--text-body: #374151;          /* Body text */
--text-muted: #6b7280;         /* Muted text */
--text-nav: #374151;           /* Navigation text */
--text-on-primary: #ffffff;    /* Text on colored backgrounds */

--bg-surface: #ffffff;         /* Card backgrounds */
--bg-surface-secondary: #f9fafb; /* Alternate sections */
--bg-surface-tertiary: #e5e7eb;  /* Subtle backgrounds */
--bg-page: #ffffff;            /* Page background */
```

### Why This Rule Exists

1. **Maintainability**: Change colors site-wide by editing one file (globals.css)
2. **Consistency**: All colors follow the design system
3. **Theming**: Easy to implement dark mode or rebrand in the future
4. **Accessibility**: Color variables can be adjusted for contrast requirements

### Exception

The ONLY place hex colors should appear is in `src/app/globals.css` where CSS variables are defined.

---

## Other Code Style Rules

### Components
- Always use TypeScript for type safety
- Use functional components with hooks
- Keep components focused and single-responsibility
- Extract reusable logic into custom hooks
- Add "use client" directive at the top of files that use client-side features (hooks, event handlers, browser APIs)
- Include JSDoc comments for complex functions and components
  - Document parameters with `@param`
  - Document return values with `@returns`
  - Explain what the function/component does, not just how
  - Include usage examples for non-obvious APIs
- Export helper functions and utilities before the main component
- Extract animation configurations into separate files (e.g., `animationConfig.ts`)
- Use descriptive prop interfaces with clear naming

### Styling
- Use Tailwind CSS utility classes for layout and spacing
- Use custom CSS utility classes (from globals.css) for colors and buttons
- Avoid inline styles unless absolutely necessary
- Keep component-specific styles in the component file only if they're truly unique

### File Organization
- Components go in `src/app/components/`
  - Organize by domain: `common/`, `contact/`, `hero/`, `layout/`, `sections/`
  - Use barrel exports (`index.ts`) in folders to re-export components
- Pages go in their respective route folders (`src/app/(pages)/[route]/`)
- Shared data go in `src/app/data/`
  - Create barrel exports in `index.ts` for easy imports
  - Data files can contain JSX (e.g., icons from lucide-react)
- Type definitions go in `src/types/`
  - Use barrel exports to consolidate type exports
- Utility functions go in `src/utils/`
  - Use barrel exports to consolidate utility exports
- All styling goes in `src/app/globals.css`
- Tests mirror the `src/` structure in `test/` folder
  - `test/e2e/` for end-to-end tests
  - `test/unit/` mirrors the `src/` folder structure

### Imports
- **ALWAYS use absolute imports** with the `@/` alias for all local files
- Examples:
  - ✅ `import { Button } from "@/app/components/ui/Button"`
  - ✅ `import { services } from "@/app/data"`
  - ✅ `import AttorneyProfile from "@/app/(pages)/about/AttorneyProfile"`
  - ✅ `import { NavLink } from "@/types"`
  - ✅ `import { formatPhoneNumber } from "@/utils"`
  - ❌ `import { Button } from "../components/ui/Button"`
  - ❌ `import { services } from "../../data/services"`
  - ❌ `import AttorneyProfile from "./AttorneyProfile"`
- Exception: Next.js core imports (e.g., `next/link`, `next/image`) use package imports as normal
- Prefer importing from barrel exports (`index.ts`) when available:
  - ✅ `import { services, features } from "@/app/data"`
  - ✅ `import { NavLink, ServiceType } from "@/types"`
  - ❌ `import { services } from "@/app/data/services"`
  - ❌ `import { NavLink } from "@/types/components"`

### Naming Conventions
- Components: PascalCase (e.g., `HeroSection.tsx`)
- Utility functions: camelCase (e.g., `formatDate`)
- CSS classes: kebab-case for custom classes, Tailwind utilities as-is
- Constants: camelCase for objects, SCREAMING_SNAKE_CASE for true constants
- Barrel export files: Always named `index.ts`
- Type files: Match the domain they represent (e.g., `components.ts`, `data.ts`)

---

## Testing

### Test Organization
- Unit tests go in `test/unit/` and mirror the `src/` folder structure
- E2E tests go in `test/e2e/`
- Name test files with `.test.tsx` or `.test.ts` extension
- Name E2E test files with `.spec.ts` extension

### Testing Best Practices
- Test user-facing behavior, not implementation details
- Use testing-library's queries (getByRole, getByLabelText) for accessibility
- Mock external dependencies (APIs, third-party libraries)
- Keep tests focused and independent

---

## Documentation

**ALWAYS update documentation when making changes to the codebase.**

### When to Update Documentation

Update `README.md` whenever you:
- Add a new feature or integration (e.g., Yelp reviews, contact form)
- Add a new API endpoint
- Add environment variables or secrets
- Change deployment configuration
- Add new dependencies or services
- Modify project structure or file organization

### When Creating Cursor Plans

Every Cursor plan that implements new features MUST include:
- A todo item for updating documentation
- Specific sections of README.md to update
- Any new setup instructions required
- Environment variable documentation

### What to Document in README.md

- **Features Section**: Add new user-facing features
- **Tech Stack**: Add new libraries, APIs, or services
- **Site Structure**: Update if pages or routes change
- **Project Structure**: Update if folder organization changes
- **Setup Sections**: Add complete setup instructions for new integrations
  - Follow the format of existing sections (e.g., "Email Setup")
  - Include local development AND production setup
  - Add troubleshooting tips
- **Environment Variables**: Document all new variables (secret vs. public)
- **Available Scripts**: Add any new npm/yarn scripts

### Documentation Standards

- Use the same style/format as existing sections
- Be specific and include code examples
- Explain WHY not just HOW
- Include troubleshooting for common issues
- Keep documentation in sync with code changes

---

## Maintaining This File

**IMPORTANT: Keep this `.cursorrules` file up to date!**

When adding new patterns, conventions, or architectural decisions to the codebase:

1. **Update this file** to document the new pattern
2. **Be specific**: Include code examples where helpful
3. **Explain the why**: Document the reasoning behind the rule
4. **Update related sections**: If a new pattern affects multiple areas, update all relevant sections

Examples of when to update:
- Adding a new CSS utility class pattern → Update Color/Styling sections
- Creating a new folder structure → Update File Organization
- Establishing a new naming convention → Update Naming Conventions
- Adding animation patterns → Update Components section
- Creating new reusable patterns → Document them here

This file is the source of truth for code standards. Keeping it current ensures consistency across the entire codebase and helps onboard new developers efficiently.

